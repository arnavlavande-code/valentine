<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Valentine's Main Quest</title>
    <style>
        body {
            margin: 0; padding: 0;
            display: flex; align-items: center; justify-content: center;
            height: 100vh; background-color: #fff0f3;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden; text-align: center;
        }

        .card {
            background: white; padding: 30px; border-radius: 25px;
            box-shadow: 0 10px 30px rgba(255, 77, 109, 0.2);
            width: 85%; max-width: 400px; border: 2px solid #ffccd5;
        }

        h1 { color: #ff4d6d; font-size: 1.8rem; margin-bottom: 10px; }
        p { color: #590d22; font-size: 1.1rem; line-height: 1.5; }

        .btn-group { position: relative; width: 100%; height: 120px; margin-top: 20px; }

        button {
            padding: 15px 30px; font-size: 1.1rem; font-weight: bold;
            border: none; border-radius: 50px; cursor: pointer;
            touch-action: manipulation; transition: transform 0.1s;
        }

        #yes-btn { background-color: #ff4d6d; color: white; box-shadow: 0 4px 15px rgba(255, 77, 109, 0.4); }
        #no-btn { background-color: #adb5bd; color: white; position: absolute; left: 50%; transform: translateX(-50%); }

        /* Form Styling */
        label { display: block; text-align: left; margin: 15px 0 5px 5px; color: #ff4d6d; font-weight: bold; }
        select, input[type="time"] {
            width: 100%; padding: 12px; font-size: 1rem; border: 2px solid #ffccd5;
            border-radius: 12px; background: #fffcfc; color: #590d22; margin-bottom: 10px;
            box-sizing: border-box; -webkit-appearance: none;
        }

        .confirm-btn { background-color: #2a9d8f; color: white; width: 100%; margin-top: 15px; }
        .hidden { display: none; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div class="card fade-in" id="ask-screen">
        <h1>‚ù§Ô∏è Main Quest Alert ‚ù§Ô∏è</h1>
        <p>I've reviewed the plot for Feb 14th.<br><strong>Will you be my Valentine?</strong></p>
        <div class="btn-group">
            <button id="yes-btn" onclick="showForm()">YES</button>
            <button id="no-btn" onmouseover="move()" ontouchstart="move()">NO</button>
        </div>
    </div>

    <div class="card hidden fade-in" id="form-screen">
        <h1>Objective: Planning üõ†Ô∏è</h1>
        <p>Excellent choice. Customize your rewards:</p>
        
        <label>Pick the Activity:</label>
        <select id="activity-choice">
            <option value="Bowling üé≥">Bowling üé≥</option>
            <option value="a Romantic Dinner ü•Ç">Romantic Dinner ü•Ç</option>
            <option value="a Movie üçø">Movie Night üçø</option>
        </select>

        <label>Pick the Time:</label>
        <input type="time" id="time-choice" value="19:00">

        <button class="confirm-btn" onclick="finish()">Lock In Mission</button>
    </div>

    <div class="card hidden fade-in" id="final-screen">
        <h1>Mission Confirmed! üèÜ</h1>
        <p id="summary-text" style="font-weight: bold; color: #ff4d6d;"></p>
        <p>Best Valentine's Day ever: <strong>Loading...</strong></p>
        <p>See you on the 14th! üòò</p>
    </div>

    <script>
        function move() {
            const btn = document.getElementById('no-btn');
            const x = Math.random() * (window.innerWidth - btn.offsetWidth - 40);
            const y = Math.random() * (window.innerHeight - btn.offsetHeight - 40);
            btn.style.position = 'fixed';
            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
            btn.style.transform = 'none';
        }

        function showForm() {
            document.getElementById('ask-screen').classList.add('hidden');
            document.getElementById('form-screen').classList.remove('hidden');
        }

        function finish() {
            const activity = document.getElementById('activity-choice').value;
            const time = document.getElementById('time-choice').value;
            
            // Format time to 12h
            const [h, m] = time.split(':');
            const ampm = h >= 12 ? 'PM' : 'AM';
            const cleanTime = ((h % 12) || 12) + ':' + m + ' ' + ampm;

            document.getElementById('form-screen').classList.add('hidden');
            document.getElementById('final-screen').classList.remove('hidden');
            document.getElementById('summary-text').innerText = 
                "We are going for " + activity + " at " + cleanTime + " sharp!";
        }
    </script>
</body>
</html>